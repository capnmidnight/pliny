!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(t){var e=/pliny\.\w+/g,n=0,i="",r="",f=/\s*\/\/ BEGIN PLINY\s*/,u=t.match(f),s=/\s*\/\/ END PLINY\s*/,o=t.match(s);if(startLibMath&&o){var c=(u[0].length,u.index),d=o[0].length,h=o.index,l=h+d;0<=c&&c<=l&&l<t.length&&(t=t.substring(0,c)+t.substring(l))}for(var g=e.exec(t),a=['"',"'","`"];g;){var x=t.substring(n,g.index),b=0,p=!1,m=null,v=!1;for(i+=x,n=g.index+g.length;n<t.length;++n){var y=t[n],N=a.indexOf(y),E=!p&&N>-1,I=p&&y===m,L=n>0&&"\\"===t[n-1];if(!E&&!I||L||(p=!p,m=p?y:null),p||("("===t[n]?(v=!0,++b):")"===t[n]&&--b),0===b&&v)break}for(;n<t.length&&/[;\) \r\n]/.test(t[n]);)n++;r+=t.substring(g.index,n),g=e.exec(t)}return i+=t.substring(n),{left:i,right:r}}function e(t){i.appendChild(document.createTextNode(t))}function n(t){e(JSON.stringify(t,null,2)),e("\n")}var i=document.querySelector("pre");fetch("testExtractingShim.js").then(function(t){return t.text()}).then(t).then(function(t){n(t.left),n(t.right)})});
