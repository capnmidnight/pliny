!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";function e(e){e=e.replace(/import \w+ from "pliny"/g,"");var n=/pliny\.\w+/g,t=0,i="",r="",f=/\s*\/\/ BEGIN PLINY\s*/,u=e.match(f),o=/\s*\/\/ END PLINY\s*/,s=e.match(o);if(u&&s){var c=(u[0].length,u.index),l=s[0].length,d=s.index,g=d+l;0<=c&&c<=g&&g<e.length&&(e=e.substring(0,c)+e.substring(g))}for(var h=n.exec(e),a=['"',"'","`"];h;){var x=e.substring(t,h.index),p=0,m=!1,b=null,y=!1;for(i+=x,t=h.index+h.length;t<e.length;++t){var v=e[t],N=a.indexOf(v),E=!m&&N>-1,I=m&&v===b,S=t>0&&"\\"===e[t-1];if(!E&&!I||S||(m=!m,b=m?v:null),m||("("===e[t]?(y=!0,++p):")"===e[t]&&--p),0===p&&y)break}for(;t<e.length&&/[;\) \r\n]/.test(e[t]);)t++;r+=e.substring(h.index,t),h=n.exec(e)}return i+=e.substring(t),{left:i,right:r}}function n(e){i.appendChild(document.createTextNode(e))}function t(e){n(JSON.stringify(e,null,2)),n("\n")}var i=document.querySelector("pre");fetch("testExtractingShim.js").then(function(e){return e.text()}).then(e).then(function(e){t(e.left),t(e.right)})});
