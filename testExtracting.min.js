!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function n(n){var e=/pliny\.\w+/g,t=0,i="",r="",u=/\s*\/\/ BEGIN PLINY\s*/,f=n.match(u),s=(f[0].length,f.index),o=/\s*\/\/ END PLINY\s*/,c=n.match(o),d=c[0].length,l=c.index,g=l+d,h=n.substring(s,g);n=n.substring(0,s)+n.substring(g);for(var a=e.exec(n),x=['"',"'","`"];a;){var h=n.substring(t,a.index),b=0,p=!1,m=null,y=!1;for(i+=h,t=a.index+a.length;t<n.length;++t){var N=n[t],v=x.indexOf(N),E=!p&&v>-1,I=p&&N===m,S=t>0&&"\\"===n[t-1];if(!E&&!I||S||(p=!p,m=p?N:null),p||("("===n[t]?(y=!0,++b):")"===n[t]&&--b),0===b&&y)break}for(;t<n.length&&/[;\) \r\n]/.test(n[t]);)t++;r+=n.substring(a.index,t),a=e.exec(n)}return i+=n.substring(t),{left:i,right:r}}function e(n){i.appendChild(document.createTextNode(n))}function t(n){e(JSON.stringify(n,null,2)),e("\n")}var i=document.querySelector("pre");fetch("testExtractingShim.js").then(function(n){return n.text()}).then(n).then(function(n){t(n.left),t(n.right)})});
